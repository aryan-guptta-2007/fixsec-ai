# ðŸš€ FixSec AI LIVE DEPLOYMENT GUIDE

## âœ… PART A â€” Deploy BACKEND on Railway

### Step 1: Push Backend to GitHub
```bash
# Make sure you're in the root directory
git add .
git commit -m "ðŸš€ Production ready - deploying to Railway"
git push origin main
```

### Step 2: Create Railway Project
1. Go to [Railway.app](https://railway.app)
2. Click **"New Project"**
3. Select **"Deploy from GitHub Repo"**
4. Choose your **FixSec AI repository**
5. Railway will detect it's a Python project

### Step 3: Add PostgreSQL Database
1. In your Railway project dashboard
2. Click **"New"** â†’ **"Add PostgreSQL"**
3. Railway auto-generates `DATABASE_URL` âœ…

### Step 4: Configure Backend Environment Variables
In Railway â†’ **Backend Service** â†’ **Variables**, add:

```bash
# Required Variables
DATABASE_URL=postgresql://... (auto-generated by Railway)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
FRONTEND_URL=https://your-vercel-app.vercel.app
SECRET_KEY=fixsec_super_secret_2026_aryan_123456789
ENVIRONMENT=production
CORS_ORIGINS=https://your-vercel-app.vercel.app,http://localhost:3000
```

### Step 5: Set Start Command
In Railway â†’ **Settings** â†’ **Start Command**:
```bash
cd backend && uvicorn main:app --host 0.0.0.0 --port $PORT
```

### Step 6: Deploy & Test
1. Railway will automatically deploy
2. Get your backend URL: `https://fixsec-ai-production.up.railway.app`
3. Test health endpoint: `https://YOUR_BACKEND_URL/health`

---

## âœ… PART B â€” Deploy FRONTEND on Vercel

### Step 1: Import Frontend Project
1. Go to [Vercel.com](https://vercel.com)
2. Click **"New Project"**
3. Select your **GitHub repository**
4. Set **Root Directory** to: `frontend/`

### Step 2: Configure Environment Variables
In Vercel â†’ **Project Settings** â†’ **Environment Variables**:

```bash
NEXT_PUBLIC_API_URL=https://YOUR_RAILWAY_BACKEND_URL
NEXT_PUBLIC_APP_URL=https://YOUR_VERCEL_APP_URL
```

### Step 3: Deploy
1. Vercel will automatically deploy
2. Get your frontend URL: `https://your-app.vercel.app`

---

## âœ… PART C â€” Fix GitHub OAuth (CRITICAL!)

### Update GitHub OAuth App
1. Go to [GitHub Developer Settings](https://github.com/settings/developers)
2. Click your OAuth App
3. Update URLs:
   - **Homepage URL**: `https://your-app.vercel.app`
   - **Authorization callback URL**: `https://your-railway-backend.up.railway.app/auth/callback`

---

## âœ… PART D â€” Update CORS for Production

In Railway â†’ Backend â†’ Variables, update:
```bash
CORS_ORIGINS=https://your-app.vercel.app,http://localhost:3000
```

---

## ðŸ§ª FINAL TESTING CHECKLIST

Test these 5 critical flows:

### âœ… 1. Login with GitHub
- Visit your Vercel app
- Click "Login with GitHub"
- Should redirect and authenticate

### âœ… 2. Repo List Loads
- After login, dashboard should show your repos
- No errors in console

### âœ… 3. Scan Works
- Click "Scan" on any repo
- Should complete in <30 seconds
- Results should display

### âœ… 4. Auto-Fix Creates PR
- Click "Analyze & Create Smart Fix Plan"
- Should create PR successfully
- PR should be visible on GitHub

### âœ… 5. Scan History Saves
- Check "Scan History" tab
- Previous scans should be saved
- Database persistence working

---

## ðŸ”§ TROUBLESHOOTING

### Common Issues:

**Backend won't start:**
- Check Railway logs for errors
- Verify all environment variables are set
- Ensure DATABASE_URL is correct

**Frontend can't connect to backend:**
- Verify NEXT_PUBLIC_API_URL is correct
- Check CORS_ORIGINS includes your Vercel domain
- Test backend health endpoint directly

**GitHub OAuth fails:**
- Double-check callback URL matches exactly
- Ensure GITHUB_CLIENT_ID and SECRET are correct
- Verify FRONTEND_URL is set correctly

**Database connection fails:**
- Railway PostgreSQL should auto-configure
- Check DATABASE_URL format
- Verify database is running in Railway

---

## ðŸŽ‰ SUCCESS INDICATORS

When everything works:
- âœ… Backend health endpoint returns 200
- âœ… Frontend loads without errors
- âœ… GitHub login works smoothly
- âœ… Scans complete successfully
- âœ… PRs are created properly
- âœ… Data persists in database

**You're now LIVE and ready to make money!** ðŸ’°ðŸš€

---

## ðŸ“‹ DEPLOYMENT URLS TO SAVE

After deployment, save these URLs:

```bash
# Backend (Railway)
BACKEND_URL=https://fixsec-ai-production.up.railway.app

# Frontend (Vercel)  
FRONTEND_URL=https://fixsec-ai.vercel.app

# Database (Railway PostgreSQL)
DATABASE_URL=postgresql://...

# Health Check
HEALTH_URL=https://fixsec-ai-production.up.railway.app/health
```

**Ready to launch and start earning!** ðŸš€ðŸ’°